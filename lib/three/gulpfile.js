var _this=this;function _asyncToGenerator(e){return function(){var a=e.apply(this,arguments);return new Promise(function(u,s){return function r(e,n){try{var t=a[e](n),i=t.value}catch(e){return void s(e)}if(!t.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});u(i)}("next")})}}var fs=require("fs"),del=require("del"),gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify");gulp.task("clean",_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:del(["*.min.js","!three.min.js"]);case 1:case"end":return e.stop()}},e,_this)}))),gulp.task("scripts",_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fs.readdirSync("src").forEach(function(e){var r=e.split(".")[0];return gulp.src(["src/"+r+".js","lib/*.js"]).pipe(concat(r+".min.js")).pipe(uglify()).pipe(gulp.dest("./"))});case 2:case"end":return e.stop()}},e,_this)}))),gulp.task("default",gulp.series("clean","scripts"));